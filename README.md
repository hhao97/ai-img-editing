# 电商AI商品图生成器

一个强大的 AI 驱动的电商商品图生成和改写工具，采用斯堪的纳维亚美学设计，完全适配移动端 H5。

## 功能特性

### 🎨 图片生成
- **AI 文字生成图片**：输入商品描述，AI 自动生成高质量商品图
- **Google Gemini 2.5 Flash**：使用 OpenRouter 的强大 AI 模型，支持图片理解和生成
- **快速生成**：10-30 秒内生成专业级商品图

### ✏️ 图片编辑
- **AI 图片改写**：上传现有图片，通过 AI 进行智能修改
- **灵活编辑**：改变背景、调整亮度、修改颜色等
- **保持质量**：维持专业级图片质量

### 📚 历史管理
- **生成历史**：保存所有生成的图片和 prompt
- **编辑历史**：记录所有编辑操作
- **快速下载**：一键下载历史中的任何图片

### 📱 移动端优先
- **完全响应式**：完美适配各种手机屏幕尺寸
- **触摸优化**：大按钮、流畅交互
- **离线存储**：API Key 安全保存在本地

## 快速开始

### 1. 获取 API Key

访问 [OpenRouter](https://openrouter.ai) 注册账户并获取 API Key。

### 2. 保存 API Key

1. 点击应用中的"设置"
2. 输入您的 OpenRouter API Key
3. 点击"保存"

**注意**：API Key 仅保存在您的浏览器本地，不会被发送到服务器。

### 3. 生成商品图

#### 方式一：文字生成
1. 点击"生成商品图"
2. 输入商品描述（例如：黑色皮革手提包，简约设计）
3. 点击"生成图片"
4. 等待 10-30 秒
5. 下载生成的图片

**提示**：
- 详细的描述能生成更好的图片
- 包括颜色、材质、风格、用途等细节
- 可以参考竞争对手的描述

#### 方式二：图片编辑
1. 点击"编辑图片"
2. 上传原始商品图
3. 输入编辑要求（例如：将背景改为白色，增加亮度）
4. 点击"编辑图片"
5. 等待处理完成
6. 下载编辑后的图片

**提示**：
- 支持 JPG、PNG 等常见格式
- 文件大小不超过 10MB
- 详细描述编辑需求能获得更好效果

### 4. 管理历史

点击"历史记录"查看所有生成和编辑的图片，支持：
- 查看生成时间和 prompt
- 对比原始图和编辑后的图
- 快速下载任何历史图片

## 设计风格

本应用采用**斯堪的纳维亚美学**设计：

- **配色方案**：
  - 背景：浅冷灰（#F5F7FA）
  - 主色：柔和粉蓝（#B8D4E8）
  - 强调色：腮红粉（#E8B8D4）

- **排版**：
  - 标题：粗体黑色无衬线字体（Playfair Display）
  - 正文：纤细现代字体（Inter）
  - 充足的留白空间

- **视觉元素**：
  - 简洁的卡片设计
  - 柔和的圆角
  - 微妙的阴影效果

## 技术栈

### 前端
- **React 19**：现代 UI 框架
- **Tailwind CSS 4**：实用优先的样式
- **shadcn/ui**：高质量组件库
- **tRPC**：类型安全的 API 调用

### 后端
- **Express 4**：轻量级服务器
- **tRPC 11**：端到端类型安全
- **Drizzle ORM**：现代数据库 ORM
- **MySQL/TiDB**：数据持久化

### 外部服务
- **OpenRouter API**：AI 模型服务
- **AWS S3**：图片存储
- **Manus OAuth**：用户认证

## API 端点

### 图片生成
```
POST /api/trpc/images.generate
{
  "prompt": "商品描述",
  "apiKey": "your-openrouter-api-key"
}
```

### 图片编辑
```
POST /api/trpc/images.edit
{
  "imageUrl": "原始图片URL",
  "editPrompt": "编辑要求",
  "apiKey": "your-openrouter-api-key"
}
```

### 获取历史
```
GET /api/trpc/images.getHistory?limit=20
GET /api/trpc/images.getEditHistory?limit=20
```

### 上传图片
```
POST /api/trpc/images.uploadImage
{
  "fileName": "image.jpg",
  "fileData": "base64编码的图片数据",
  "mimeType": "image/jpeg"
}
```

## 常见问题

### Q: API Key 会被保存到服务器吗？
A: 不会。API Key 仅保存在您的浏览器本地存储中，不会发送到我们的服务器。

### Q: 生成的图片可以商用吗？
A: 可以。生成的图片完全属于您，可以自由使用。

### Q: 生成失败怎么办？
A: 
1. 检查 API Key 是否正确
2. 确保 OpenRouter 账户有足够的额度
3. 尝试简化 prompt 描述
4. 稍后重试

### Q: 支持哪些图片格式？
A: 支持 JPG、PNG、WebP 等常见格式，文件大小不超过 10MB。

### Q: 可以批量生成图片吗？
A: 目前不支持批量生成，但可以逐个生成并保存历史。

## 使用建议

### 优化 Prompt

**好的 Prompt 示例：**
```
高级皮革手提包，黑色，简约设计，金色五金配件，
适合商务场景，产品摄影风格，白色背景，
专业照明，高清质量，电商产品图
```

**避免的做法：**
- 过于简短的描述
- 模糊的颜色描述
- 不清楚的用途说明

### 图片编辑建议

**明确的编辑要求：**
```
将背景改为纯白色，增加产品的亮度 20%，
强化金色五金的光泽感，保持整体风格
```

**模糊的编辑要求：**
```
让图片更好看
改变背景
```

## 隐私和安全

- ✅ API Key 仅保存在本地浏览器
- ✅ 生成的图片存储在 S3，仅您可访问
- ✅ 使用 HTTPS 加密传输
- ✅ 定期清除浏览器数据时会删除 API Key

## 反馈和支持

如有问题或建议，请通过以下方式联系我们：
- 提交 Issue
- 发送邮件
- 在应用中反馈

## 许可证

MIT License - 自由使用和修改

## 致谢

- 感谢 OpenRouter 提供的 AI 模型服务
- 感谢 Manus 平台的支持
- 感谢所有用户的反馈和建议

---

**开始使用**：登录应用，设置 API Key，开始生成专业级商品图！
